# 命令启动器 - 最小化到托盘功能说明

## 功能概述

本应用程序现在支持最小化到系统托盘的功能，提供更好的用户体验。

## 主要功能

### 1. 系统托盘支持
- 应用程序启动时会在系统托盘显示图标
- 托盘图标为蓝色圆形，带有"C"字母
- 鼠标悬停在托盘图标上会显示工具提示："命令启动器 - 双击显示主窗口"

### 2. 最小化到托盘
- **关闭窗口时**：点击窗口右上角的关闭按钮会将应用程序最小化到托盘，而不是退出程序
- **菜单选项**：在主窗口的"文件"菜单中，选择"最小化到托盘"选项

### 3. 从托盘恢复窗口
- **双击托盘图标**：双击系统托盘中的应用程序图标会显示主窗口
- **右键菜单**：右键点击托盘图标，选择"显示主窗口"

### 4. 托盘右键菜单
- **显示主窗口**：恢复并显示主窗口
- **退出**：完全退出应用程序

## 使用方法

1. **启动应用程序**
   - 应用程序启动后，系统托盘会出现蓝色图标
   - 主窗口正常显示

2. **最小化到托盘**
   - 方法一：直接点击窗口的关闭按钮（X）
   - 方法二：选择菜单栏 -> 文件 -> 最小化到托盘

3. **从托盘恢复**
   - 方法一：双击系统托盘中的应用程序图标
   - 方法二：右键点击托盘图标，选择"显示主窗口"

4. **完全退出应用程序**
   - 方法一：在主窗口中选择菜单栏 -> 文件 -> 退出
   - 方法二：右键点击托盘图标，选择"退出"

## 技术实现

### 核心组件
- **TrayManager类**：管理系统托盘图标和相关功能
- **主窗口修改**：添加了关闭事件拦截和托盘相关方法
- **Qt系统托盘API**：使用QSystemTrayIcon实现托盘功能

### 兼容性
- 系统托盘功能在Windows、Linux和macOS上都支持
- 如果系统不支持托盘功能，程序会降级为传统的最小化行为

## 注意事项

1. **系统托盘可用性**：如果系统不支持托盘功能，最小化操作会回退到正常的窗口最小化
2. **关闭行为**：默认情况下，关闭窗口不会退出程序，需要通过菜单或托盘右键菜单退出
3. **图标**：当前使用程序生成的简单图标，可以根据需要替换为自定义图标文件

## 代码结构

```
TrayManager.h/cpp  - 托盘管理器类
Main.qml          - 主窗口UI，包含托盘相关功能
main.cpp          - 主程序，连接托盘管理器信号
```

这样，您的应用程序就具备了完整的最小化到托盘功能！
